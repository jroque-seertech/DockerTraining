version: "2"
services:
  backend:
    image: mongo:latest
    ports:
      - "3004:3004"
    command: mongod --port 3004
    networks:
        - docker_cont_network
  swagger:
    image: swaggerapi/swagger-ui
    ports:
      - "80:8080"
    environment:
      - SWAGGER_JSON=./swagger.json
      - API_URL=localhost:8081/swagger.json
    networks:
      - docker_cont_network
    volumes: 
      - .:/swagger
  swagger-editor:
    image: swaggerapi/swagger-editor
    ports:
      - "8081:8081"
    networks:
      - docker_cont_network
  frontend:
      build: .
      command: python -u app.py
      ports:
        - "5000:5000"
      volumes:
        - .:/app
      links:
        - backend
      networks:
        - docker_cont_network
networks:
  docker_cont_network:
    driver: bridge